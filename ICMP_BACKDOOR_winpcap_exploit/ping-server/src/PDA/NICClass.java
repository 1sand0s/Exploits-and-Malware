package PDA;

import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import java.io.IOException;
import java.util.List;

import javax.swing.JOptionPane;

import org.pcap4j.core.PcapNetworkInterface;
import org.pcap4j.util.NifSelector;
import org.pcap4j.util.LinkLayerAddress;

public class NICClass extends NifSelector 
{
	  private static String LINE_SEPARATOR = System.getProperty("line.separator");
	  private static PcapNetworkInterface nic;
	
	  
	  
	NICClass()
	{
		try 
		{
			nic=this.selectNetworkInterface();
			pda.nif=nic;
			
			if(nic==null)
			{
				JOptionPane.showMessageDialog(null,"No Network Interface Cards available");
			}
			else
			{
				pda.field.append("Device Chosen " + nic.getDescription()+"  "+nic.getName()+"\n");
				pda.srcMAC=nic.getLinkLayerAddresses().toString();
				pda.srcMAC=pda.srcMAC.substring(1,pda.srcMAC.length()-1);
				//JOptionPane.showMessageDialog(null,nic.getName()+"");
			}
		}	
		catch (IOException e)
		{
				
		}
	}
	  @Override
	protected void write(String msg) throws IOException
	  {
	    pda.field.append(msg);
	  }
	  
	 @Override
	 protected String read()throws IOException
	 {
		
		pda.input="";
		try 
		{
			synchronized(pda.lock)
			{
				pda.lock.wait();
			}
		}
		catch (InterruptedException e) 
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		pda.input=pda.input.substring(0,pda.input.length()-1);
		return pda.input;
	 }
	 
	


}


